{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n    'live_BzwGQIh1LRldU74Jv51k7HTS0uxammP7qVJA1muukd6HsPHVkN3JKvMXwwZbH5VN';\n\n\nexport async function fetchBreeds() {\n    return await axios\n        .get('https://api.thecatapi.com/v1/breeds')\n        .then(res => res.data);\n}\n\nexport async function fetchCatByBreed(breedId) {\n    return await axios\n        .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n        .then(res => res.data);\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SlimSelect from 'slim-select';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\nconst variables = {\n    breedSelect: document.querySelector('.js-breed-select'),\n    catInfo: document.querySelector('.cat-info'),\n    loader: document.querySelector('.loader'),\n    title: document.querySelector('.animate__animated'),\n}\n\nfunction showElement(element, isVisible) {\n    element.classList.toggle('hidden', !isVisible)\n}\n\nvariables.title.classList.add('animate__animated', 'animate__zoomInDown')\nvariables.title.addEventListener('animationed', () => {\n    searchCats()\n})\n\nshowElement(variables.breedSelect, false)\nshowElement(variables.loader, true)\n\nconst slimSelect = new SlimSelect({\n    select: variables.breedSelect,\n})\n\nasync function selectCat() {\n    try {\n        showElement(variables.loader, true);\n        showElement(variables.catInfo, false);\n        const catId = variables.breedSelect.value;\n        const data = await fetchCatByBreed(catId);\n        markupCats(data);\n    }\n    catch (error) {\n        iziToast.show({\n            position: 'center',\n            message: 'An error have ocurred. Please reload the page'\n        });\n    }\n    showElement(variables.loader, false)\n}\n\nfunction markupCats(data) {\n    const imgCats = data[0].url;\n    const infoCats = data[0].breeds[0];\n    const cat = `<div class=\"card\">\n  <img class=\"img\" src=\"${imgCats}\" alt=\"${infoCats.name}\"/>\n      <div class=\"info\">\n        <h2 class=\"name\">${infoCats.name}</h2>\n        <p><span class=\"description\">Description: </span> ${infoCats.description}</p>\n        <p><span class=\"temperament\">Temperament: </span> ${infoCats.temperament}</p>   \n       </div>\n</div>`;\n\n    variables.catInfo.innerHTML = cat;\n    showElement(variables.catInfo, true);\n}\n\nasync function searchCats() {\n    try {\n        await fetchBreeds().then(breeds => {\n            const data = breeds.map(({ id, name }) => ({ value: id, text: name }));\n            console.log(data);\n            slimSelect.setData(Array.from(data));\n        });\n        showElement(variables.breedSelect, true);\n        variables.breedSelect.addEventListener('change', selectCat);\n    } catch (error) {\n        iziToast.show({\n            position: 'center',\n            message: 'Oops! Something went wrong! Try reloading the page!',\n        });\n    }\n    showElement(variables.loader, false);\n}"],"names":["axios","fetchBreeds","res","fetchCatByBreed","breedId","variables","showElement","element","isVisible","searchCats","slimSelect","SlimSelect","selectCat","catId","data","markupCats","iziToast","imgCats","infoCats","cat","breeds","id","name"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC1B,wEAGG,eAAeC,GAAc,CAChC,OAAO,MAAMD,EACR,IAAI,qCAAqC,EACzC,KAAKE,GAAOA,EAAI,IAAI,CAC7B,CAEO,eAAeC,EAAgBC,EAAS,CAC3C,OAAO,MAAMJ,EACR,IAAI,wDAAwDI,GAAS,EACrE,KAAKF,GAAOA,EAAI,IAAI,CAC7B,CCXA,MAAMG,EAAY,CACd,YAAa,SAAS,cAAc,kBAAkB,EACtD,QAAS,SAAS,cAAc,WAAW,EAC3C,OAAQ,SAAS,cAAc,SAAS,EACxC,MAAO,SAAS,cAAc,oBAAoB,CACtD,EAEA,SAASC,EAAYC,EAASC,EAAW,CACrCD,EAAQ,UAAU,OAAO,SAAU,CAACC,CAAS,CACjD,CAEAH,EAAU,MAAM,UAAU,IAAI,oBAAqB,qBAAqB,EACxEA,EAAU,MAAM,iBAAiB,cAAe,IAAM,CAClDI,EAAY,CAChB,CAAC,EAEDH,EAAYD,EAAU,YAAa,EAAK,EACxCC,EAAYD,EAAU,OAAQ,EAAI,EAElC,MAAMK,EAAa,IAAIC,EAAW,CAC9B,OAAQN,EAAU,WACtB,CAAC,EAED,eAAeO,GAAY,CACvB,GAAI,CACAN,EAAYD,EAAU,OAAQ,EAAI,EAClCC,EAAYD,EAAU,QAAS,EAAK,EACpC,MAAMQ,EAAQR,EAAU,YAAY,MAC9BS,EAAO,MAAMX,EAAgBU,CAAK,EACxCE,EAAWD,CAAI,CAClB,MACD,CACIE,EAAS,KAAK,CACV,SAAU,SACV,QAAS,+CACrB,CAAS,CACJ,CACDV,EAAYD,EAAU,OAAQ,EAAK,CACvC,CAEA,SAASU,EAAWD,EAAM,CACtB,MAAMG,EAAUH,EAAK,GAAG,IAClBI,EAAWJ,EAAK,GAAG,OAAO,GAC1BK,EAAM;AAAA,0BACUF,WAAiBC,EAAS;AAAA;AAAA,2BAEzBA,EAAS;AAAA,4DACwBA,EAAS;AAAA,4DACTA,EAAS;AAAA;AAAA,QAIjEb,EAAU,QAAQ,UAAYc,EAC9Bb,EAAYD,EAAU,QAAS,EAAI,CACvC,CAEA,eAAeI,GAAa,CACxB,GAAI,CACA,MAAMR,EAAW,EAAG,KAAKmB,GAAU,CAC/B,MAAMN,EAAOM,EAAO,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,MAAY,CAAE,MAAOD,EAAI,KAAMC,CAAI,EAAG,EACrE,QAAQ,IAAIR,CAAI,EAChBJ,EAAW,QAAQ,MAAM,KAAKI,CAAI,CAAC,CAC/C,CAAS,EACDR,EAAYD,EAAU,YAAa,EAAI,EACvCA,EAAU,YAAY,iBAAiB,SAAUO,CAAS,CAC7D,MAAC,CACEI,EAAS,KAAK,CACV,SAAU,SACV,QAAS,qDACrB,CAAS,CACJ,CACDV,EAAYD,EAAU,OAAQ,EAAK,CACvC"}